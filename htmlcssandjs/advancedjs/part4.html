<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Full Stack Assessment 3 - Advanced Javascript">
  <meta name="keywords" content="HTML,CSS,XML,JavaScript">
  <meta name="author" content="Joao Lucio Rolim de Moraes">
  <style>
  div{
    position: absolute;
    width: 500px;
    height: 500px;
  }
  img{
    position: absolute;
  }
  #rightSide{
    left: 500px;
    border-left: 1px solid black
  }
</style>
<title>MG</title>
</head>
<body onload="generateFaces()">
<h1>Matching Game!</h1>
<p>Click on the extra smiling face on the left</p>
<div id="leftSide"></div>
<div id="rightSide"></div>
<script>
// Initializing variables
var numberOfFaces = 5;
var theLeftSide = document.getElementById("leftSide");
//Added a variable theRightSide - Part3
var theRightSide = document.getElementById("rightSide");
//Added a variable theBody - Part 4
var theBody = document.getElementsByTagName("body")[0];
var top_position = 25, left_position = 25;
var leftsideImages;
// Main function to create both sides for game
function generateFaces(){
for(i=0;i<numberOfFaces;i++){
    top_position = Math.random() * 400;
    left_position = Math.random() * 400;
    var x = document.createElement("IMG");
    // We can set src like this: x.setAttribute("src", "smile.png");
    x.src="https://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
    x.style.top = top_position + "px";
    x.style.left = left_position + "px";
    theLeftSide.appendChild(x);
  }
  leftsideImages = theLeftSide.cloneNode(true);
  leftsideImages.removeChild(leftsideImages.lastChild);
  theRightSide.appendChild(leftsideImages);
  // Function to increment game
  theLeftSide.lastChild.onclick = function nextLevel(event){
      event.stopPropagation();
      numberOfFaces = 5;
      generateFaces();
  };
  // Function to determine when user click in an wrong place (ouside smile)
  // and finish game
  theBody.onclick = function gameOver() {
    alert("Game Over!");
    theBody.onclick = null;
    theLeftSide.lastChild.onclick = null;
  };
};
</script>
</body>
</html>
